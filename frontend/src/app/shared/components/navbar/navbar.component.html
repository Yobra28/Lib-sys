<mat-toolbar class="!bg-white/90 backdrop-blur border-b border-slate-200 !text-slate-800">
  <div class="container-app flex items-center justify-between">
    <div class="flex items-center gap-3">
      <mat-icon class="text-primary-600 !text-3xl">auto_stories</mat-icon>
      <span class="font-semibold text-lg tracking-tight">Smart Library</span>
    </div>

    <div class="flex items-center gap-2">
      <button mat-icon-button [matMenuTriggerFor]="notificationMenu" class="hover:bg-slate-100 rounded-full">
        <mat-icon class="text-amber-600"
          [matBadge]="unreadCount$ | async" 
          matBadgeColor="warn" 
          [matBadgeHidden]="(unreadCount$ | async) === 0">
          notifications
        </mat-icon>
      </button>

      <button mat-button [matMenuTriggerFor]="userMenu" *ngIf="currentUser" class="!text-slate-800">
        <mat-icon class="text-slate-700">account_circle</mat-icon>
        <span class="hidden sm:inline">{{currentUser.firstName}} {{currentUser.lastName}}</span>
      </button>

      <mat-menu #notificationMenu="matMenu" class="max-w-sm">
        <div class="p-4 w-64">
          <h3 class="text-sm font-semibold mb-1">Notifications</h3>
          <p class="text-xs text-slate-500">Check notifications page for details</p>
        </div>
      </mat-menu>

      <mat-menu #userMenu="matMenu">
        <button mat-menu-item [routerLink]="isAdmin ? '/admin/profile' : '/student/profile'">
          <mat-icon class="text-sky-600">person</mat-icon>
          <span>Profile</span>
        </button>
        <button mat-menu-item (click)="logout()">
          <mat-icon class="text-rose-600">logout</mat-icon>
          <span>Logout</span>
        </button>
      </mat-menu>
    </div>
  </div>
</mat-toolbar>
